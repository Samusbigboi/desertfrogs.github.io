<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio - n8n Projects</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-nix.min.js"></script>
</head>
<body>

  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="gallery.html">Gallery</a></li>
      <li><a href="projects.html">IT Projects</a></li>
      <li><a href="n8n.html" class="active">n8n Projects</a></li>
    </ul>
  </nav>

<section class="projects container">
  <h1>n8n projects</h1>
  <p>This page is dedicated to different projects in N8N, which is a powerful tool used for automation.
  <br>
  <br></p>
  
  <!-- Project 1, part 1 -->
  <details class="project">
    <summary>NixOS - Self host n8n, using Docker</summary>
    <p>This is how I have set up my private n8n environment, hosted on my NixOS desktop machine. <br> 
      It is possible, and in most cases prefered, to host your n8n on a server. That could be either remote or local, depending on your setup. <br> 
      In my case, I just run it on my private computer for personal purposes.</p>

    <p>1. Edit your /etc/nixos/configuration.nix</p>
    <pre><code class="language-nix">
      {
        virtualisation.docker.enable = true; 
      
      # Or add "docker" in your already existing "extraGroups" list, if you want sudo access 
      users.users.<your-username>.extraGroups = [ "docker" ]; } 
    </code></pre>

    <p>bash:</p> 
    <pre><code class="language-nix"> 
      $ sudo nixos-rebuild switch 
    </code></pre> 
    <br>

    <!-- Part 2 --> 
    <p>2. Create a folder for n8n’s data</p> 
    <p>bash:</p> 
    <pre><code class="language-nix"> 
      $ mkdir -p ~/.n8n </code></pre> 
    <p>Run n8n, bash:</p> 
    <p>(reminder that it is important to include the \ in each line, otherwise it will run the commands prematurely)</p> 
    <pre><code class="language-nix"> 
      $ docker run -it --rm \ 
      --name n8n \ 
      -p 5678:5678 \ 
      -v ~/.n8n:/home/node/.n8n \ 
      n8nio/n8n 
      
      # "-p 5678:5678" exposes the editor on http://localhost:5678 
      # "-v ~/.n8n:/home/node/.n8n" mounts a persistent volume so your workflows survive container restarts 
    </code></pre>
    
    <p>You can now visit your n8n environment at http://localhost:5678 in your browser</p> 
    <br>

    <!-- Part 3 --> 
    <p>3. Keep it running in the background, autorun when rebooting machine</p> 
    <p>Create a directory for your setup, bash:</p> 
    <pre><code class="language-nix"> 
      $ mkdir -p ~/n8n-docker 
      
      # move to the new directory 
      $ cd ~/n8n-docker 
    </code></pre> 
    
    <p>Create a docker-compose.yml file in ~/n8n-docker:</p> 
    <pre><code class="language-nix"> 
services:
  n8n:
    image: n8nio/n8n
    restart: always
    ports:
      - "5678:5678"
    volumes:
      - ~/.n8n:/home/node/.n8n
    </code></pre> 
    
    <p>If you need to manually start n8n for some reason, run this bash command:</p> 
    <pre><code class="language-nix"> 
      $ docker compose up -d 
    </code></pre> 
    
    <p>To check if docker is running:</p> 
    <pre><code class="language-nix"> 
      $ docker ps 
    </code></pre> 
    <br> 
    <p>If done correctly, your n8n is hosted and run through docker, and should start automatically with your machine. This exact setup works for my NixOS 24.11</p>
    
  </details>
  
  <!-- Project 2 -->
  <details class="project">
    <summary>NixOS - Connect N8N to Google Drive</summary>
    <p>This guide helps you connect your n8n to various Google Drive APIs...</p>
    <pre><code class="language-bash">
     <img src="images/under-construction.png"> *** UNDER CONSTRUCTION *** <img src="images/under-construction.png">
<!-- Prepare your n8n app, and paus during the step where you are prompted to connect to your Google Cloud API.

Go to Google Cloud Platform: Cloud Computing Services > login to relevant Google account.

Click on "Console" up on the right corner > Click on "Select a project" on up on the left corner
      > Click on "New Project" > Name it > create.

Go to the project, either through notification or "Select a project".

Open hamburger menu in top left > Click "APIs & Services" > Library > search for "google drive" > Enable.

On the left side-menu, go to "OAuth consent screen" > Get started 
      > Follow the wizard - use whatever credentials fit your project.

Go to the "Audience" tab on the left > "Publish app".
      
Go back to home > "APIs & Services" > "Credentials" > "+ Create credentials" - "OAuth client ID 
      > "Aplication Type" - Web application > Fill in name field > Under "Authorized redirect URIs" - "+ Add URI" 
      > paste the URI (found on the n8n API connection page) > (YET TO FINISH WRITING GUIDE) -->
    </code></pre>
  </details>
</section>

  <footer>
    © 2025 Wilmer Nyman | All Rights Reserved
  </footer>

</body>
</html>
